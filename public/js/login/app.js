function bindFormatters(){$(".numbers-only").keypress(function(){return event.charCode>=48&&event.charCode<=57}),$(".floats-only").keypress(function(){return event.charCode>=48&&event.charCode<=57||46==event.charCode}),$(".phone-format").mask("(000)000-0000"),$(".credit-format").mask("0000-0000-0000-0000-000"),$(".fulldate-format").mask("00/00/0000"),$(".fulldate-format").keyup(function(){if($(this).val().length>10)return!1}),$(".date-format").bind("blur",function(){var e="00000"+$(this).val().toString();(""==$(this).val()||$(this).val()<1)&&(e=""),$(this).val(e.slice(-2))}),$(".zip-format").keyup(function(){zipData($(this))}),$(".pass-format").bind("keyup click",function(){$(this).attr("type","password"),""!=$(this).val()?$(this).addClass("pass-bullets"):$(this).removeClass("pass-bullets")}),$(".currency-format").bind("blur change",function(){var e=$(this).val();currArr=e.split("."),correct=currArr[0],currArr.length>1&&(correct=currArr[0]+"."+currArr[1]),$(this).val(formatCurrency(correct))}),$(".pass-reveal").bind("mouseenter click focus",function(){$(this).parent().children(".form-control").removeClass("pass-format"),$(this).parent().children(".form-control").attr("type","text")}),$(".pass-reveal").bind("mouseleave blur",function(){$(this).parent().children(".form-control").addClass("pass-format"),$(this).parent().children(".form-control").attr("type","password")});for(var e=document.getElementsByClassName("zip-format"),t=0;t<e.length;t++){var r=e[t];zipData($(r))}$(".material-input").focus(function(){$(this).parent().children(".material-label").addClass("material-label-focus active")}),$(".material-input").blur(function(){$(this).parent().children(".material-label").removeClass("active"),""==$(this).val()&&$(this).parent().children(".material-label").removeClass("material-label-focus")}),$(".ds-button").click(function(){""==$(".material-input").val()&&$(".material-input").parent().children(".material-label").removeClass("material-label-focus")})}function formatCurrency(e){return parseFloat(Math.round(100*e)/100).toFixed(2)}function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function zipData(e){str=e.val(),fill=e.parent().children(".zip-autofill"),/^[0-9]{0,5}$/.test(str)||e.val(str.slice(0,5)),5==str.length?fillZipData(str,fill):str.length<5&&fill.html("")}function InputFormatter(){this.passFormat=function(e){""==$("#"+e).val()?$("#"+e).removeClass("pass-bullets"):$("#"+e).addClass("pass-bullets")}}function amtFloat(){isNaN(paymentAmt.value)||""==paymentAmt.value?(paymentAmt.value="",paymentAmt.className="",paymentAmt.placeholder="$0.00"):paymentAmt.value="$"+parseFloat(paymentAmt.value).toFixed(2)}function formatCard(e){var t=creditNum.value.split("-"),r=e.selectionStart;for(t=t.join(""),t=t.split(""),i=0;i<=t.length-1;i++)if(4==i||9==i||14==i){if("-"==t[i])continue;t.splice(i,0,"-")}creditNum.value=t.slice(0,19).join(""),r<creditNum.value.length-1&&e.setSelectionRange(r,r)}function isNumber(e,t){e=e||window.event;var r=e.which?e.which:e.keyCode;if(r>31&&(r<45||r>57))return!1;if("payment-amount"==t){if(47==r||45==r)return!1}else if(!("credit-cvcode"!=t&&"credit-num"!=t||47!=r&&46!=r&&45!=r))return!1;return!0}function checkCard(e){var t="",r="",n=0;for(i=e.length-2;i>=0;i-=2)t+=e.charAt(i);for(i=0;i<t.length;i++)r+=2*t.charAt(i);for(i=0;i<r.length;i++)n+=parseInt(r.charAt(i));for(i=e.length-3;i>=0;i-=2)n+=parseInt(e.charAt(i));if((n+=parseInt(e.charAt(e.length-1)))%10==0&&creditNum.value.length>10)return!0}function getMethod(e){var t=e.toString(),r=new RegExp("^4");return null!=t.match(r)?"visa":(r=new RegExp("^5[1-5]"),null!=t.match(r)?"mastercard":(r=new RegExp("^3[47]"),null!=t.match(r)?"amex":(r=new RegExp("^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)"),null!=t.match(r)?"discover":(r=new RegExp("^36"),null!=t.match(r)?"diners":(r=new RegExp("^30[0-5]"),null!=t.match(r)?"diners":(r=new RegExp("^(3(?:088|096|112|158|337|5(?:2[89]|[3-8][0-9])))"),null!=t.match(r)?"jcb":(r=new RegExp("^(4026|417500|4508|4844|491(3|7))"),null!=t.match(r)?"visa electron":"")))))))}function InputValidator(){this.isValid=function(e){for(var t=[],r=0;r<e.length;r++){var n=$("#"+e[r].elem).val(),o=!0;switch(e[r].type){case"email":o=validEmail(n);break;case"pass":o=validPass(n);break;case"strongpass":o=strongPass(n);break;case"string":o=validString(n);break;case"phone":o=validPhone(n);break;case"zip":o=validZip(n);break;case"select":o=validSelect(n);break;case"date":o=validDate(n);break;default:o=!1}0==o?(this.showError([e[r].elem]),t.push(e[r].elem)):this.hideError([e[r].elem])}return!(t.length>0)||t},this.showError=function(e){for(var t=0;t<e.length;t++)$("#"+e[t]).addClass("ds-form-error"),$("#"+e[t]).parent().children(".material-label").addClass("label-err"),$("#"+e[t]+NaN)&&$("#"+e[t]+"-err").addClass("ds-show-errmsg")},this.hideError=function(e){for(var t=0;t<e.length;t++)$("#"+e[t]).removeClass("ds-form-error"),$("#"+e[t]).parent().children(".material-label").removeClass("label-err"),$("#"+e[t]+"-err").removeClass("ds-show-errmsg")},this.clearInputs=function(e){for(var t=0;t<e.length;t++)$("#"+e[t]).val("")}}function validEmail(e){userEmail=e;var t=0;for(i=0;i<=userEmail.length;i++)if("@"!=userEmail.slice(0,1)&&("@"==userEmail.slice(i,i+1)?t+=1:"."==userEmail.slice(i,i+1)&&"@"!=userEmail.slice(i-1,i)&&(t*=2))," "==userEmail.slice(i,i+1))return!1;return t>=2}function validPass(e){for(var t=e,r=!1,n=0;n<t.length;n++)" "!=t.slice(n,n+1)&&(r=!0);return!(""==t||!r)}function strongPass(e){var t=e;return!!new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})").test(t)}function validString(e,t){var r=e;return void 0!=r&&""!=r}function validZip(e){return!!/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}function validPhone(e){return!(e.length<13)}function validSelect(e){return!!e}function validDate(e){var t=e,r=t.split("/"),n=new Date,o=r[0],i=r[1],a=r[2],s=n.getFullYear();return!(t.length<10||o>12||i>31||a<1900||a>s)}function clone(e){var t,r,n;return e?(t=e.prefixPattern.source,r=e.exactPattern.source,n=JSON.parse(JSON.stringify(e)),n.prefixPattern=t,n.exactPattern=r,n):null}function creditCardType(e){var t,r,n,o=[],i=[];if(!("string"==typeof e||e instanceof String))return[];for(n=0;n<testOrder.length;n++)t=testOrder[n],r=types[t],0!==e.length?r.exactPattern.test(e)?i.push(clone(r)):r.prefixPattern.test(e)&&o.push(clone(r)):o.push(clone(r));return i.length?i:o}function luhnValidator(e){var t="",r="",n=0;for(i=e.length-2;i>=0;i-=2)t+=e.charAt(i);for(i=0;i<t.length;i++)r+=2*t.charAt(i);for(i=0;i<r.length;i++)n+=parseInt(r.charAt(i));for(i=e.length-3;i>=0;i-=2)n+=parseInt(e.charAt(i));return(n+=parseInt(e.charAt(e.length-1)))%10==0}function fadeOut(e){$(e).css("transition",".2s"),$(e).css("opacity","0"),setTimeout(function(){$(e).addClass("hidden")},300)}function fadeIn(e){$(e).removeClass("hidden"),$(e).css("transition",".2s"),$(e).css("opacity","1")}function slideLeft(e){fadeIn(e),slideMeLeft.applyTo($(e))}function zoomIn(e){zoomMeIn.applyTo($(e)),fadeIn(e)}function zoomOut(e){zoomMeOut.applyTo($(e)),fadeOut(e)}function bindTravelerModal(e){var t=e.parent(),r=t.find(".traveler-modal-details"),n=t.find(".traveler-modal-title").outerHeight(),o=r.outerHeight();t.hasClass("active")?(t.removeClass("active"),t.css("max-height",n),r.css("bottom",o),$(e).find(".flex-arrow").removeClass("flex-arrow-minus")):($(".traveler-modal-container").find(".traveler-modal-details").css("bottom",o),$(".traveler-modal-container").css("max-height",n),$(".traveler-modal-container").removeClass("active"),$(".traveler-modal-container").find(".flex-arrow").removeClass("flex-arrow-minus"),t.addClass("active"),t.css("max-height",n+o+30),r.css("bottom","0px"),$(e).find(".flex-arrow").addClass("flex-arrow-minus"))}function acctTravelerModal(e){var t=e.parent(),r=t.find(".traveler-modal-details"),n=t.find(".traveler-modal-title").outerHeight(),o=r.outerHeight();t.hasClass("active")?(t.removeClass("active"),t.css("max-height","35px"),t.css("width","100%"),r.css("bottom",o),$(e).find(".flex-arrow").removeClass("flex-arrow-minus")):($(".traveler-modal-container").find(".traveler-modal-details").css("bottom",o+30),$(".traveler-modal-container").css("max-height",n),$(".traveler-modal-container").css("width","100%"),$(".traveler-modal-container").removeClass("active"),$(".traveler-modal-container").find(".flex-arrow").removeClass("flex-arrow-minus"),t.addClass("active"),t.css("max-height",n+o+30),t.css("width","110%"),r.css("bottom","0px"),$(e).find(".flex-arrow").addClass("flex-arrow-minus"))}function openExpander(e){var t=e,r=t.children(".expander-header"),n=t.children(".expander-content");t.addClass("expander-open"),t.css("max-height",r.outerHeight()),n.css("bottom",n.outerHeight())}function closeExpander(e){var t=e,r=t.children(".expander-header"),n=t.children(".expander-content");t.removeClass("expander-open"),t.css("max-height",n.outerHeight()+r.outerHeight()),n.css("bottom","0px")}function expanderController(e){var t=$(e).closest(".expander");t.hasClass("expander-open")?closeExpander(t):openExpander(t)}function cardCarousel(){function e(e){a+=($(n[i]).outerWidth()+10)*e,i-=e,0==i?(s=0,t.addClass("hidden")):(s=50,t.removeClass("hidden"),i>n.length-l-1&&r.addClass("hidden")),e>0&&r.removeClass("hidden"),o.css("left",a+s)}var t=$(".carousel-button.left"),r=$(".carousel-button.right"),n=$(".hz-card"),o=$(".card-carousel-reel"),i=0,a=0,s=50,l=$(".card-carousel").parent().outerWidth()/($(n[i]).outerWidth()+10);l=Math.floor(l),n.length>=l+1&&r.removeClass("hidden");for(var c=0;c<n.length&&(c>l-1&&e(-1),!$(n[c]).hasClass("card-active"));c++);r.click(function(){e(-1)}),t.click(function(){e(1)})}function createCookie(e,t,r){var n="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=e+"="+t+n+"; path=/"}function readCookie(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function getZipData(e,t){function r(e){var r,n,o=e[0].address_components;for(i=0;i<o.length;++i){var a=o[i].types;compIsType(a,"administrative_area_level_1")?n=o[i].long_name:compIsType(a,"locality")&&(r=o[i].long_name)}document.getElementById(t).innerHTML=r+", "+n}var n=new google.maps.Geocoder;n.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK&&n.geocode({latLng:e[0].geometry.location},function(e,t){if(t==google.maps.GeocoderStatus.OK&&e[1]){r(e)}})})}function fillZipData(e,t){function r(e){var r,n,o=e[0].address_components;for(i=0;i<o.length;++i){var a=o[i].types;compIsType(a,"administrative_area_level_1")?n=o[i].long_name:compIsType(a,"locality")&&(r=o[i].long_name)}t.html(r+", "+n)}var n=new google.maps.Geocoder;n.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK&&n.geocode({latLng:e[0].geometry.location},function(e,t){if(t==google.maps.GeocoderStatus.OK&&e[1]){r(e)}})})}function compIsType(e,t){for(z=0;z<e.length;++z)if(e[z]==t)return!0;return!1}function nextRegForm(e){current_fs=$(e).parent(),next_fs=$(e).parent().next(),$("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active"),next_fs.show(),current_fs.animate({opacity:0},{step:function(e,t){scale=1-.2*(1-e),left=50*e+"%",opacity=1-e,current_fs.css({transform:"scale("+scale+")"}),next_fs.css({left:left,opacity:opacity})},duration:800,complete:function(){current_fs.hide(),animating=!1},easing:"easeInOutBack"})}function prevRegForm(){if(animating)return!1;animating=!0,current_fs=$(this).parent(),previous_fs=$(this).parent().prev(),$("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active"),previous_fs.show(),current_fs.animate({opacity:0},{step:function(e,t){scale=.8+.2*(1-e),left=50*(1-e)+"%",opacity=1-e,current_fs.css({left:left}),previous_fs.css({transform:"scale("+scale+")",opacity:opacity})},duration:800,complete:function(){current_fs.hide(),animating=!1},easing:"easeInOutBack"})}function resetRegistration(){$("#reg-fs-one").show(),document.getElementById("reg-fs-one").style="",document.getElementById("reg-fs-two").style="",document.getElementById("reg-fs-three").style="",$("#reg-fs-two").hide(),$("#reg-fs-three").hide(),$("#progressbar li").eq($("fieldset").index($("#reg-fs-one"))).addClass("active"),$("#progressbar li").eq($("fieldset").index($("#reg-fs-two"))).removeClass("active"),$("#progressbar li").eq($("fieldset").index($("#reg-fs-three"))).removeClass("active")}function registerClose(){fadeOut("#dark-overlay"),zoomOut("#msform"),validator.hideError(newUserArray),document.getElementById("reg-zip-autofill").innerHTML="",regEmailAttempt=0,regPassAttempt=0,regMatchAttempt=0,regNameAttempt=0,regPhoneAttempt=0,regStreetAttempt=0,regZipAttempt=0}function matchPass(){return $("#reg-new-pass").val()==$("#reg-pass-confirm").val()?(validator.hideError(["reg-pass-confirm"]),!0):(validator.showError(["reg-pass-confirm"]),!1)}function phoneCombo(){if(""==$("#reg-new-phone").val()&&""==$("#reg-new-home").val())return $("#reg-new-phone-err").html("Please enter at least one phone number"),validator.showError(["reg-new-phone"]),!1;validator.hideError(["reg-new-phone","reg-new-home"]);var e=[];return""!=$("#reg-new-phone").val()&&e.push({elem:"reg-new-phone",type:"phone"}),""!=$("#reg-new-home").val()&&e.push({elem:"reg-new-home",type:"phone"}),1==validator.isValid(e)||($("#reg-new-phone-err").html("Please enter a correct phone number"),$("#reg-new-phone-err").addClass("ds-show-errmsg"),!1)}function regFormTwo(){var e=validator.isValid([{elem:"reg-new-email",type:"email"},{elem:"reg-new-pass",type:"strongpass"}]),t=!1;if(matchPass()?t=!0:regMatchAttempt=1,1==e&&1==t)nextRegForm("#reg-next-acct"),validator.hideError(["reg-new-email","reg-new-pass","reg-pass-confirm"]);else for(i=0;i<e.length;i++)"reg-new-email"==e[i]&&(regEmailAttempt=1),"reg-new-pass"==e[i]&&(regPassAttempt=1)}function regFormThree(){var e=validator.isValid([{elem:"reg-new-fullname",type:"string"},{elem:"reg-new-street",type:"string"},{elem:"reg-new-zip",type:"zip"}]),t=!1;if(phoneCombo()?t=!0:regPhoneAttempt=1,1==e&&1==t)nextRegForm("#reg-next-det"),validator.hideError(["reg-new-fullname","reg-new-address","reg-new-zip","reg-new-phone"]);else for(i=0;i<e.length;i++)"reg-new-fullname"==e[i]&&(regNameAttempt=1),"reg-new-street"==e[i]&&(regStreetAttempt=1),"reg-new-zip"==e[i]&&(regZipAttempt=1)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";var t,r,n,o,i=function(i,a,s){var l=this,c=e(i),u={byPassKeys:[8,9,37,38,39,40],specialChars:{":":191,"-":189,".":190,"(":57,")":48,"/":191,",":188,_:189," ":32,"+":187},translation:{0:"(.)",1:"(.)",2:"(.)",3:"(.)",4:"(.)",5:"(.)",6:"(.)",7:"(.)",8:"(.)",9:"(.)",A:"(.)",S:"(.)",":":"(:)?","-":"(-)?",".":"(\\.)?","(":"(\\()?",")":"(\\))?","/":"(/)?",",":"(,)?",_:"(_)?"," ":"(\\s)?","+":"(\\+)?"}};l.settings={},l.init=function(){l.settings=e.extend({},u,s),s=s||{},c.each(function(){a=p(a,e(this).val(),void 0,e(this),s),c.attr("maxlength",a.length),c.attr("autocomplete","off"),y(),m(),h()})},l.remove=function(){y(),c.val(f(c.val()))};var p=function(e,t,r,n,o){return"function"==typeof e?e(t,r,n,o):e},f=function(e){return e.replace(/\W/g,"")},d=function(){setTimeout(function(){c.trigger("keyup")},100)},h=function(){g()?c.on("paste",d):c.onpaste=d},m=function(){c.keyup(v).trigger("keyup")},g=function(){return e.isFunction(e.on)},y=function(){c.unbind("keyup").unbind("onpaste")},v=function(t){if(t=t||window.event,n=t.keyCode||t.which,e.inArray(n,l.settings.byPassKeys)>=0)return!0;var i=f(c.val());return o="boolean"==typeof s.reverse&&!0===s.reverse?$(i,a):x(i,a),r=w(t,c,o,s),r!==c.val()&&c.val(r).trigger("change"),A(t,s,r,a,c)},w=function(e,n,o,i){return t=f(n.val()).substring(0,f(o).length),t.replace(new RegExp(C(o)),function(){r="";for(var e=1;e<arguments.length-2;e++)void 0!==arguments[e]&&""!==arguments[e]||(arguments[e]=o.charAt(e-1)),r+=arguments[e];return _(r,o)})},x=function(e,t){for(var r=0,n=0;n<=e.length-1;){for(;"number"==typeof l.settings.specialChars[t.charAt(r)];)r++;r++,n++}return t.substring(0,r)},$=function(e,t){var r=0,n=0,o=0;for(r=t.length>=1?t.length:t.length-1,n=r;o<=e.length-1;){for(;"number"==typeof l.settings.specialChars[t.charAt(n-1)];)n--;n--,o++}return n=t.length>=1?n:n-1,t.substring(r,n)},C=function(e){for(var t="",r=0;r<e.length;r++)l.settings.translation[e.charAt(r)]&&(t+=l.settings.translation[e.charAt(r)]);return t},b=function(e,t){return(!1!==isNaN(parseInt(e,10))||!1!==/\d/.test(t))&&(("A"!==e||!1!==/[a-zA-Z0-9]/.test(t))&&(("S"!==e||!1!==/[a-zA-Z]/.test(t))&&("number"!=typeof l.settings.specialChars[t]||e===t)))},_=function(e,t){e=e.split("");for(var r=0;r<t.length;r++)!1===b(t.charAt(r),e[r])&&(e[r]="");return e.join("")},A=function(e,t,r,n,o){t.onKeyPress&&void 0===e.isTrigger&&"function"==typeof t.onKeyPress&&t.onKeyPress(r,e,o,t),t.onComplete&&void 0===e.isTrigger&&r.length===n.length&&"function"==typeof t.onComplete&&t.onComplete(r,e,o,t)};l.init()};e.fn.mask=function(t,r){return this.each(function(){e(this).data("mask",new i(this,t,r))})}}(jQuery),$(document).ready(function(){bindFormatters()});var formatter=new InputFormatter,validator=new InputValidator,types={},VISA="visa",MASTERCARD="master-card",AMERICAN_EXPRESS="american-express",DINERS_CLUB="diners-club",DISCOVER="discover",JCB="jcb",UNIONPAY="unionpay",MAESTRO="maestro",CVV="CVV",CID="CID",CVC="CVC",CVN="CVN",testOrder=[VISA,MASTERCARD,AMERICAN_EXPRESS,DINERS_CLUB,DISCOVER,JCB,UNIONPAY,MAESTRO];types[VISA]={niceType:"Visa",type:VISA,prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16,18,19],code:{name:CVV,size:3}},types[MASTERCARD]={niceType:"MasterCard",type:MASTERCARD,prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:CVC,size:3}},types[AMERICAN_EXPRESS]={niceType:"American Express",type:AMERICAN_EXPRESS,prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:CID,size:4}},types[DINERS_CLUB]={niceType:"Diners Club",type:DINERS_CLUB,prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14,16,19],code:{name:CVV,size:3}},types[DISCOVER]={niceType:"Discover",type:DISCOVER,prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:CID,size:3}},types[JCB]={niceType:"JCB",type:JCB,prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:CVV,size:3}},types[UNIONPAY]={niceType:"UnionPay",type:UNIONPAY,prefixPattern:/^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,exactPattern:/^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\d*|622018\d{12})$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:CVN,size:3}},types[MAESTRO]={niceType:"Maestro",type:MAESTRO,prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^(5[06-9]|6[37])\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:CVC,size:3}},creditCardType.getTypeInfo=function(e){return clone(types[e])},creditCardType.types={VISA:VISA,MASTERCARD:MASTERCARD,AMERICAN_EXPRESS:AMERICAN_EXPRESS,DINERS_CLUB:DINERS_CLUB,DISCOVER:DISCOVER,JCB:JCB,UNIONPAY:UNIONPAY,MAESTRO:MAESTRO},function(e){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports)))module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Bounce=e()}}(function(){return function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return o(r||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t){var r,n,o;o=e("../math/matrix4d"),n={bounce:e("../easing/bounce"),sway:e("../easing/sway"),hardbounce:e("../easing/hardbounce"),hardsway:e("../easing/hardsway")},r=function(){function e(e){e||(e={}),null!=e.easing&&(this.easing=e.easing),null!=e.duration&&(this.duration=e.duration),null!=e.delay&&(this.delay=e.delay),null!=e.from&&(this.from=e.from),null!=e.to&&(this.to=e.to),this.easingObject=new n[this.easing](e)}return e.prototype.easing="bounce",e.prototype.duration=1e3,e.prototype.delay=0,e.prototype.from=null,e.prototype.to=null,e.prototype.calculateEase=function(e){return this.easingObject.calculate(e)},e.prototype.getMatrix=function(){return(new o).identity()},e.prototype.getEasedMatrix=function(){return this.getMatrix()},e.prototype.serialize=function(){var e,t,r,n;t={type:this.constructor.name.toLowerCase(),easing:this.easing,duration:this.duration,delay:this.delay,from:this.from,to:this.to},n=this.easingObject.serialize();for(e in n)r=n[e],t[e]=r;return t},e}(),t.exports=r},{"../easing/bounce":6,"../easing/hardbounce":7,"../easing/hardsway":8,"../easing/sway":10,"../math/matrix4d":13}],2:[function(e,t){var r,n,o,i={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("../math/matrix4d"),e("../math/vector2d"),r=e("./index"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.diff=this.to-this.from}return a(t,e),t.prototype.from=0,t.prototype.to=90,t.prototype.getMatrix=function(e){var t,r,o;return r=e/180*Math.PI,t=Math.cos(r),o=Math.sin(r),new n([t,-o,0,0,o,t,0,0,0,0,1,0,0,0,0,1])},t.prototype.getEasedMatrix=function(e){var t,r;return r=this.calculateEase(e),t=this.from+this.diff*r,this.getMatrix(t)},t}(r),t.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],3:[function(e,t){var r,n,o,i,a={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("../math/matrix4d"),i=e("../math/vector2d"),r=e("./index"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return s(t,e),t.prototype.from={x:.5,y:.5},t.prototype.to={x:1,y:1},t.prototype.getMatrix=function(e,t){var r;return r=1,new n([e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1])},t.prototype.getEasedMatrix=function(e){var t,r;return t=this.calculateEase(e),r=this.fromVector.clone().add(this.diff.clone().multiply(t)),this.getMatrix(r.x,r.y)},t}(r),t.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],4:[function(e,t){var r,n,o,i,a={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("../math/matrix4d"),i=e("../math/vector2d"),r=e("./index"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return s(t,e),t.prototype.from={x:0,y:0},t.prototype.to={x:20,y:0},t.prototype.getMatrix=function(e,t){var r,o,i,a;return r=e/180*Math.PI,o=t/180*Math.PI,i=Math.tan(r),a=Math.tan(o),new n([1,i,0,0,a,1,0,0,0,0,1,0,0,0,0,1])},t.prototype.getEasedMatrix=function(e){var t,r;return t=this.calculateEase(e),r=this.fromVector.clone().add(this.diff.clone().multiply(t)),this.getMatrix(r.x,r.y)},t}(r),t.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],5:[function(e,t){var r,n,o,i,a={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("../math/matrix4d"),i=e("../math/vector2d"),r=e("./index"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.fromVector=new i(this.from.x,this.from.y),this.toVector=new i(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return s(t,e),t.prototype.from={x:0,y:0},t.prototype.to={x:0,y:0},t.prototype.getMatrix=function(e,t){var r;return r=0,new n([1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1])},t.prototype.getEasedMatrix=function(e){var t,r;return t=this.calculateEase(e),r=this.fromVector.clone().add(this.diff.clone().multiply(t)),this.getMatrix(r.x,r.y)},t}(r),t.exports=o},{"../math/matrix4d":13,"../math/vector2d":14,"./index":1}],6:[function(e,t){var r,n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("./index"),r=function(e){function t(e){var r;null==e&&(e={}),t.__super__.constructor.apply(this,arguments),null!=e.stiffness&&(this.stiffness=e.stiffness),null!=e.bounces&&(this.bounces=e.bounces),this.alpha=this.stiffness/100,r=.005/Math.pow(10,this.stiffness),this.limit=Math.floor(Math.log(r)/-this.alpha),this.omega=this.calculateOmega(this.bounces,this.limit)}return i(t,e),t.prototype.bounces=4,t.prototype.stiffness=3,t.prototype.calculate=function(e){var t;return e>=1?1:(t=e*this.limit,1-this.exponent(t)*this.oscillation(t))},t.prototype.calculateOmega=function(){return(this.bounces+.5)*Math.PI/this.limit},t.prototype.exponent=function(e){return Math.pow(Math.E,-this.alpha*e)},t.prototype.oscillation=function(e){return Math.cos(this.omega*e)},t.prototype.serialize=function(){return{stiffness:this.stiffness,bounces:this.bounces}},t}(n),t.exports=r},{"./index":9}],7:[function(e,t){var r,n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=e("./bounce"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.oscillation=function(e){return Math.abs(Math.cos(this.omega*e))},t}(r),t.exports=n},{"./bounce":6}],8:[function(e,t){var r,n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("./sway"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.oscillation=function(e){return Math.abs(Math.sin(this.omega*e))},t}(n),t.exports=r},{"./sway":10}],9:[function(e,t){var r,n;n=e("../math/helpers"),r=function(){function e(){}return e.prototype.calculate=function(e){return e},e.prototype.serialize=function(){return{}},e.prototype.findOptimalKeyPoints=function(e,t){var r,o,i,a,s,l,c;for(null==e&&(e=1),null==t&&(t=1e3),s=[0],c=function(){var e,r;for(r=[],i=e=0;t>=0?t>e:e>t;i=t>=0?++e:--e)r.push(this.calculate(i/t));return r}.call(this),s=s.concat(n.findTurningPoints(c)),s.push(t-1),i=0,l=1e3;l--&&i!==s.length-1;)r=n.areaBetweenLineAndCurve(c,s[i],s[i+1]),e>=r?i++:(o=Math.round(s[i]+(s[i+1]-s[i])/2),s.splice(i+1,0,o));return 0===l?[]:function(){var e,r,n;for(n=[],e=0,r=s.length;r>e;e++)a=s[e],n.push(a/(t-1));return n}()},e}(),t.exports=r},{"../math/helpers":12}],10:[function(e,t){var r,n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=e("./bounce"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.calculate=function(e){var t;return e>=1?0:(t=e*this.limit,this.exponent(t)*this.oscillation(t))},t.prototype.calculateOmega=function(){return this.bounces*Math.PI/this.limit},t.prototype.oscillation=function(e){return Math.sin(this.omega*e)},t}(r),t.exports=n},{"./bounce":6}],11:[function(e,t){var r,n,o;o=e("./math/matrix4d"),n={scale:e("./components/scale"),rotate:e("./components/rotate"),translate:e("./components/translate"),skew:e("./components/skew")},r=function(){function e(){this.components=[]}return e.FPS=30,e.counter=1,e.prototype.components=null,e.prototype.duration=0,e.prototype.scale=function(e){return this.addComponent(new n.scale(e))},e.prototype.rotate=function(e){return this.addComponent(new n.rotate(e))},e.prototype.translate=function(e){return this.addComponent(new n.translate(e))},e.prototype.skew=function(e){return this.addComponent(new n.skew(e))},e.prototype.addComponent=function(e){return this.components.push(e),this.updateDuration(),this},e.prototype.serialize=function(){var e,t,r,n,o;for(t=[],o=this.components,r=0,n=o.length;n>r;r++)e=o[r],t.push(e.serialize());return t},e.prototype.deserialize=function(e){var t,r,o;for(r=0,o=e.length;o>r;r++)t=e[r],this.addComponent(new n[t.type](t));return this},e.prototype.updateDuration=function(){return this.duration=this.components.map(function(e){return e.duration+e.delay}).reduce(function(e,t){return Math.max(e,t)})},e.prototype.define=function(t){return this.name=t||e.generateName(),this.styleElement=document.createElement("style"),this.styleElement.innerHTML=this.getKeyframeCSS({name:this.name,prefix:!0}),document.body.appendChild(this.styleElement),this},e.prototype.applyTo=function(e,t){var r,n,o,i,a,s,l,c,u,p;for(null==t&&(t={}),this.define(),e.length||(e=[e]),a=this.getPrefixes(),n=null,window.jQuery&&window.jQuery.Deferred&&(n=new window.jQuery.Deferred),s=0,c=e.length;c>s;s++)for(o=e[s],p=a.animation,l=0,u=p.length;u>l;l++)i=p[l],r=[this.name,this.duration+"ms","linear","both"],t.loop&&r.push("infinite"),o.style[i+"animation"]=r.join(" ");return t.loop||setTimeout(function(e){return function(){return t.remove&&e.remove(),"function"==typeof t.onComplete&&t.onComplete(),n?n.resolve():void 0}}(this),this.duration),n},e.prototype.remove=function(){var e;if(this.styleElement)return this.styleElement.remove?this.styleElement.remove():null!=(e=this.styleElement.parentNode)?e.removeChild(this.styleElement):void 0},e.prototype.getPrefixes=function(e){var t,r;return t={transform:[""],animation:[""]},r=document.createElement("dummy").style,(e||!("transform"in r)&&"webkitTransform"in r)&&(t.transform=["-webkit-",""]),(e||!("animation"in r)&&"webkitAnimation"in r)&&(t.animation=["-webkit-",""]),t},e.prototype.getKeyframeCSS=function(t){var r,n,o,i,a,s,l,c,u,p,f,d,h,m,g,y,v,w;for(null==t&&(t={}),this.name=t.name||e.generateName(),l={transform:[""],animation:[""]},(t.prefix||t.forcePrefix)&&(l=this.getPrefixes(t.forcePrefix)),o=[],i=this.getKeyframes(t),y=this.keys,p=0,h=y.length;h>p;p++){for(n=y[p],a=i[n],c="matrix3d"+a,u=[],v=l.transform,f=0,m=v.length;m>f;f++)s=v[f],u.push(s+"transform: "+c+";");o.push(Math.round(100*n*100)/100+"% { "+u.join(" ")+" }")}for(r=[],w=l.animation,d=0,g=w.length;g>d;d++)s=w[d],r.push("@"+s+"keyframes "+this.name+" { \n  "+o.join("\n  ")+" \n}");return r.join("\n\n")},e.prototype.getKeyframes=function(t){var r,n,i,a,s,l,c,u,p,f,d,h,m,g,y,v,w,x,$;if(null==t&&(t={}),u=[0,1],t.optimized)for(x=this.components,d=0,y=x.length;y>d;d++)r=x[d],n=r.easingObject.findOptimalKeyPoints().map(function(e){return function(t){return t*r.duration/e.duration+r.delay/e.duration}}(this)),r.delay&&n.push(r.delay/this.duration-.001),u=u.concat(n);else for(a=Math.round(this.duration/1e3*e.FPS),s=h=0;a>=0?a>=h:h>=a;s=a>=0?++h:--h)u.push(s/a);for(u=u.sort(function(e,t){return e-t}),this.keys=[],c={},m=0,v=u.length;v>m;m++)if(l=u[m],!c[l]){for(p=(new o).identity(),$=this.components,g=0,w=$.length;w>g;g++)r=$[g],i=l*this.duration,
r.delay-i>1e-8||(f=(l-r.delay/this.duration)/(r.duration/this.duration),p.multiply(r.getEasedMatrix(f)));this.keys.push(l),c[l]=p.transpose().toFixed(3)}return c},e.generateName=function(){return"animation-"+e.counter++},e.isSupported=function(){var e,t,r,n,o,i,a,s,l;for(o=document.createElement("dummy").style,n=[["transform","webkitTransform"],["animation","webkitAnimation"]],i=0,s=n.length;s>i;i++){for(r=n[i],t=!1,a=0,l=r.length;l>a;a++)e=r[a],t||(t=e in o);if(!t)return!1}return!0},e}(),t.exports=r},{"./components/rotate":2,"./components/scale":3,"./components/skew":4,"./components/translate":5,"./math/matrix4d":13}],12:[function(e,t){var r;r=function(){function e(){}return e.prototype.sign=function(e){return 0>e?-1:1},e.prototype.findTurningPoints=function(e){var t,r,n,o,i,a;for(o=[],t=i=1,a=e.length-1;a>=1?a>i:i>a;t=a>=1?++i:--i)r=this.sign(e[t]-e[t-1]),n=this.sign(e[t+1]-e[t]),r!==n&&o.push(t);return o},e.prototype.areaBetweenLineAndCurve=function(e,t,r){var n,o,i,a,s,l,c,u;for(a=r-t,c=e[t],l=e[r],n=0,i=u=0;a>=0?a>=u:u>=a;i=a>=0?++u:--u)o=e[t+i],s=c+i/a*(l-c),n+=Math.abs(s-o);return n},e}(),t.exports=new r},{}],13:[function(e,t){var r;r=function(){function e(e){this._array=(null!=e?e.slice(0):void 0)||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}return e.prototype._array=null,e.prototype.equals=function(e){return this.toString()===e.toString()},e.prototype.identity=function(){return this.setArray([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},e.prototype.multiply=function(t){var r,n,o,i,a,s,l,c;for(i=new e,r=s=0;4>s;r=++s)for(n=l=0;4>l;n=++l)for(o=c=0;4>c;o=++c)a=i.get(r,n)+this.get(r,o)*t.get(o,n),i.set(r,n,a);return this.copy(i)},e.prototype.transpose=function(){var e;return e=this.getArray(),this.setArray([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]),this},e.prototype.get=function(e,t){return this.getArray()[4*e+t]},e.prototype.set=function(e,t,r){return this._array[4*e+t]=r},e.prototype.copy=function(e){return this._array=e.getArray(),this},e.prototype.clone=function(){return new e(this.getArray())},e.prototype.getArray=function(){return this._array.slice(0)},e.prototype.setArray=function(e){return this._array=e,this},e.prototype.toString=function(){return"("+this.getArray().join(", ")+")"},e.prototype.toFixed=function(e){var t;return this._array=function(){var r,n,o,i;for(o=this._array,i=[],r=0,n=o.length;n>r;r++)t=o[r],i.push(parseFloat(t.toFixed(e)));return i}.call(this),this},e}(),t.exports=r},{}],14:[function(e,t){var r;r=function(){function e(e,t){this.x=null!=e?e:0,this.y=null!=t?t:0}return e.prototype.x=0,e.prototype.y=0,e.prototype.add=function(t){return e.isVector2D(t)?(this.x+=t.x,this.y+=t.y,this):this._addScalar(t)},e.prototype._addScalar=function(e){return this.x+=e,this.y+=e,this},e.prototype.subtract=function(t){return e.isVector2D(t)?(this.x-=t.x,this.y-=t.y,this):this._subtractScalar(t)},e.prototype._subtractScalar=function(e){return this._addScalar(-e)},e.prototype.multiply=function(t){return e.isVector2D(t)?(this.x*=t.x,this.y*=t.y,this):this._multiplyScalar(t)},e.prototype._multiplyScalar=function(e){return this.x*=e,this.y*=e,this},e.prototype.divide=function(t){return e.isVector2D(t)?(this.x/=t.x,this.y/=t.y,this):this._divideScalar(t)},e.prototype._divideScalar=function(e){return this._multiplyScalar(1/e)},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.prototype.toFixed=function(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this},e.prototype.toArray=function(){return[this.x,this.y]},e.isVector2D=function(t){return t instanceof e},e}(),t.exports=r},{}]},{},[11])(11)});var zoomMeIn=new Bounce;zoomMeIn.scale({from:{x:.5,y:.5},to:{x:1,y:1}}),zoomMeIn.define("zoomIn");var zoomMeOut=new Bounce;zoomMeOut.scale({from:{x:1,y:1},to:{x:.5,y:.5}}),zoomMeOut.define("zoomOut");var slideMeLeft=new Bounce;slideMeLeft.translate({from:{x:150,y:0},to:{x:0,y:0},duration:1300,stiffness:4}),slideMeLeft.define("slideLeft"),$(document).ready(function(){for(var e=document.getElementsByClassName("expander"),t=0;t<e.length;t++){var r=$(e[t]);r.children(".expander-header"),r.children(".expander-content");r.hasClass("expander-open")?closeExpander(r):openExpander(r)}$(".expander-controller").click(function(){var e=$(this).closest(".expander");e.hasClass("expander-open")?closeExpander(e):openExpander(e)})}),$(".linear-expander-controller").click(function(){$(".linear-expander").removeClass("static"),$(".linear-expander").toggleClass("expanded")}),$(document).ready(function(){cardCarousel()});var current_fs,next_fs,previous_fs,left,opacity,scale,animating,regSwitch=0;$(".submit").click(function(){return!1}),$(document).ready(function(){function e(){$("#login-email").blur(),$("#login-button").removeClass("login-button-active"),$("#login-modal").removeClass("login-modal-reveal"),$("#login-pass").removeClass("pass-bullets"),$("#login-details-err").addClass("hidden"),validator.hideError(["login-email","login-pass"]),validator.clearInputs(["login-email","login-pass"]),n=0,o=0}function t(){var e=$("#login-email").val(),t=$("#login-pass").val(),r=validator.isValid([{elem:"login-email",type:"email"},{elem:"login-pass",type:"pass"}]);if(1==r)$("#login-email").blur(),$("#login-pass").blur(),fadeIn("#dark-overlay"),slideLeft("#login-loader"),$("#login-details-err").addClass("hidden"),$.ajax({type:"POST",url:"/login",data:{email:e,password:t},success:function(t){$("#login-success-button").attr("href","/profile/"+e),"VALID"==t?setTimeout(function(){fadeOut("#login-loader"),slideLeft("#login-success")},2e3):"INVALID"==t&&setTimeout(function(){fadeOut("#dark-overlay"),zoomOut("#login-loader"),$("#login-details-err").removeClass("hidden")},2e3)},error:function(e,t,r){}});else for(i=0;i<r.length;i++)"login-email"==r[i]&&(n=1),"login-pass"==r[i]&&(o=1)}function r(){$.ajax({type:"GET",url:"/precheck",data:{email:a.val()},success:function(e){"OPEN"===e?($("#pwreset-exists").removeClass("hidden"),a.addClass("input-add-errparent")):($("#pwreset-exists").addClass("hidden"),a.removeClass("input-add-errparent"))}})}var n=0,o=0;$("#login-button").click(function(){setTimeout(function(){$("#login-email").focus()},300),$(this).addClass("login-button-active"),$("#login-modal").addClass("login-modal-reveal")}),$("#login-close").click(function(){e()}),$("#login-attempt").click(function(){t()}),$("#login-modal").keypress(function(e){13==e.which&&t()}),$("#login-email").keyup(function(){$("#login-details-err").addClass("hidden"),1==n&&validator.isValid([{elem:"login-email",type:"email"}])}),$("#login-pass").keyup(function(){$("#login-details-err").addClass("hidden"),1==o&&validator.isValid([{elem:"login-pass",type:"pass"}]),formatter.passFormat("login-pass")}),$("#login-pwreset").click(function(){e(),fadeIn("#dark-overlay"),zoomIn("#overlay-public-pwreset")}),$("#login-register").click(function(){formatter.passFormat("reg-new-pass"),formatter.passFormat("reg-pass-confirm"),e(),resetRegistration(),fadeIn("#dark-overlay"),zoomIn("#msform")});var a=$("#pwreset-email"),s=0;$("#pwreset-confirm").click(function(){1==validator.isValid([{elem:"pwreset-email",type:"email"}])?(validator.hideError(["pwreset-email"]),$("#pwreset-confirm, #pwreset-cancel").addClass("button-locked"),$.ajax({type:"GET",url:"/precheck",data:{email:a.val()},success:function(e){"OPEN"===e?($("#pwreset-exists").removeClass("hidden"),a.addClass("input-add-errparent"),s=1,$("#pwreset-confirm, #pwreset-cancel").removeClass("button-locked")):($("#pwreset-exists").addClass("hidden"),a.removeClass("input-add-errparent"),$.ajax({type:"POST",url:"/user/password/email",data:{email:a.val()},success:function(e){zoomOut("#overlay-public-pwreset"),$("#pwreset-email").val(""),slideLeft("#pwreset-loader"),setTimeout(function(){zoomOut("#pwreset-loader"),slideLeft("#pwreset-success"),$("#pwreset-confirm, #pwreset-cancel").removeClass("button-locked")},2e3)}}))}})):s=1}),$("#pwreset-email").keyup(function(){if(1==s){1==validator.isValid([{elem:"pwreset-email",type:"email"}])?r():($("#pwreset-exists").addClass("hidden"),a.removeClass("input-add-errparent"))}}),$("#pwreset-cancel").click(function(){zoomOut("#overlay-public-pwreset"),fadeOut("#dark-overlay"),validator.clearInputs(["pwreset-email"]),validator.hideError(["pwreset-email"]),s=0,resetEmailX=!1}),$("#pwreset-success-close, #pwreset-success-button").click(function(){fadeOut("#dark-overlay"),zoomOut("#pwreset-success")}),$("#loggedin-button").bind("click",function(){slideLeft("#login-dropdown")}),$("#login-dropdown").parent().bind("mouseleave",function(){fadeOut("#login-dropdown")}),$("#login-success-close").attr("href",window.location)});var newUserArray=["reg-new-email","reg-new-pass","reg-pass-confirm","reg-new-fullname","reg-new-phone","reg-new-home","reg-new-street","reg-new-zip"],regEmailAttempt=0,regPassAttempt=0,regMatchAttempt=0,regNameAttempt=0,regPhoneAttempt=0,regStreetAttempt=0,regZipAttempt=0,registerInput=document.getElementsByClassName("register-input");$(document).ready(function(){$("#prevReg2, #prevReg3").click(prevRegForm),$("#reg-new-email").bind("change keyup",function(){1==regEmailAttempt&&validator.isValid([{elem:"reg-new-email",type:"email"}])}),$("#reg-new-pass").focus(function(){""==$("#reg-new-pass").val()&&slideLeft("#new-pass-helper")}),$("#reg-new-pass").blur(function(){fadeOut("#new-pass-helper")}),$("#reg-new-pass").keyup(function(){formatter.passFormat("reg-new-pass"),1==regPassAttempt&&(matchPass(),validator.isValid([{elem:"reg-new-pass",type:"strongpass"}]))}),$("#reg-pass-confirm").keyup(function(){formatter.passFormat("reg-pass-confirm"),1==regPassAttempt&&matchPass()}),$("#reg-new-fullname").keyup(function(){1==regNameAttempt&&validator.isValid([{elem:"reg-new-fullname",type:"string"}])}),$("#reg-new-phone, #reg-new-home").keyup(function(){1==regPhoneAttempt&&(phoneCombo(),fadeOut("#new-phone-helper"))}),$("#reg-new-phone").focus(function(){""==$("#reg-new-phone").val()&&slideLeft("#new-phone-helper")}),$("#reg-new-phone").blur(function(){fadeOut("#new-phone-helper")}),$("#reg-new-street").keyup(function(){1==regStreetAttempt&&validator.isValid([{elem:"reg-new-street",type:"string"}])}),$("#reg-new-zip").keyup(function(){str=$("#reg-new-zip").val(),/^[0-9]{0,5}$/.test(str)||$("#reg-new-zip").val(str.slice(0,5)),5==str.length?getZipData(str,"reg-zip-autofill"):str.length<5&&(document.getElementById("reg-zip-autofill").innerHTML=""),1==regZipAttempt&&validator.isValid([{elem:"reg-new-zip",type:"zip"}])}),$("#register-success-close").attr("href",window.location)});