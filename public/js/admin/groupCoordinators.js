!function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=104)}({104:function(e,t,i){e.exports=i(105)},105:function(e,t){new Vue({el:"#group-coordinators-app",data:{admin:adminLoaded,group:groupLoaded,coordinators:coordinatorsLoaded,removeIndex:{created:"",id:"",user:{name:"",id:"",email:""}},coordinator:{new:{name:"",email:"",cell:"",home:"",street:"",zip:"",active:0,available:null},existing:{selected:"-1",name:"",id:"",searched:!1,active:1},valid:null},typingTimeout:null,searchUser:"",selectUser:""},methods:{preventEnter:function(e){if(13===e.keyCode||13===e.which)return e.preventDefault(),!1},newCoordinator:function(){fadeIn("#coverlay"),fadeIn("#new-coordinator-modal")},removeCoordinator:function(e){this.removeIndex=this.coordinators[e],fadeIn("#coverlay"),fadeIn("#remove-coordinator-modal")},deleteSelected:function(){var e=this;$.ajax({type:"POST",url:"/coordinators/destroy",data:{coord_id:e.removeIndex.id},success:function(e){"SUCCESS"==e&&window.location.reload()}})},updateSelected:function(){"-1"!=this.coordinator.existing.selected?(this.coordinator.existing.name=this.selectUser[this.coordinator.existing.selected].name,this.coordinator.existing.id=this.selectUser[this.coordinator.existing.selected].id,this.checkExisting()):this.coordinator.valid=null},storeMethod:function(e){this.coordinator.valid=null,"radio-new-user"==e.toElement.id?(this.coordinator.new.active=1,this.coordinator.existing.active=0,this.validateNewUser(),setTimeout(function(){bindFormatters()},100)):(this.coordinator.existing.active=1,this.coordinator.new.active=0,this.updateSelected())},searchExisting:function(){this.coordinator.existing={selected:"-1",name:"",id:"",searched:!0,active:1},this.coordinator.valid=null;var e=this;$.ajax({type:"GET",url:"/user/search/criteria-name",data:{name:e.searchUser},success:function(t){e.selectUser=t}})},searchAuto:function(e){13==e.keyCode&&(this.coordinator.valid=null,this.searchExisting())},checkExisting:function(){var e=this;$.ajax({type:"GET",url:"/coordinators/precheck",data:{user_id:e.coordinator.existing.id,group_id:e.group.id},success:function(t){"OPEN"==t&&(e.coordinator.valid=!0),"TAKEN"==t&&(e.coordinator.valid=!1)}})},checkNewUser:function(){var e=this;this.coordinator.valid=!1,clearTimeout(e.typingTimeout),e.typingTimeout=setTimeout(function(){$.ajax({type:"GET",url:"/precheck",data:{email:e.coordinator.new.email},success:function(t){"OPEN"==t&&(e.coordinator.new.available=!0),"TAKEN"==t&&(e.coordinator.new.available=!1),e.validateNewUser()}})},200)},validateNewUser:function(){var e=this.coordinator.new;1==validEmail(e.email)&&""!=e.name&&1==e.available&&(e.home.length>12&&""==e.cell||""==e.home&&e.cell.length>12||e.home.length>12&&e.cell.length>12)&&""!=e.street&&e.zip.length>4?this.coordinator.valid=!0:this.coordinator.valid=!1},closeModals:function(){this.removeIndex={created:"",id:"",user:{name:"",id:"",email:""}},this.coordinator={new:{name:"",email:"",cell:"",home:"",street:"",zip:"",active:this.coordinator.new.active,available:null},existing:{selected:"-1",name:"",id:"",searched:!1,active:this.coordinator.existing.active},valid:null},this.searchUser="",this.selectUser="",fadeOut("#coverlay"),fadeOut("#remove-coordinator-modal"),fadeOut("#new-coordinator-modal")}},mounted:function(){},components:{},computed:{}})}});